import { NextRequest, NextResponse } from 'next/server'; import { listDocs, deleteDoc } from '@/lib/store'; export const runtime='nodejs'; export const dynamic='force-dynamic'; export async function GET(){ return NextResponse.json({ docs: listDocs() }); } export async function DELETE(req: NextRequest){ const { searchParams } = new URL(req.url); const title = searchParams.get('title'); if(!title) return NextResponse.json({ error:'Missing ?title' }, { status:400 }); const res = deleteDoc(title); return NextResponse.json({ ok:true, ...res }); }